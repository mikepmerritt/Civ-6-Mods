-- Capture zone project
-- TODO: figure out why the victory panel crashed

INSERT INTO Types (Type, Kind) VALUES
('PROJECT_SHOW_SUPERIORITY_SAM', 'KIND_PROJECT'),
('PROJECT_EXERT_INFLUENCE_SAM', 'KIND_PROJECT');

INSERT INTO Projects (ProjectType, Name, ShortName, Description, Cost, CostProgressionModel, PrereqDistrict, MaxPlayerInstances) VALUES
('PROJECT_SHOW_SUPERIORITY_SAM', 'LOC_PROJECT_SHOW_SUPERIORITY_SAM_NAME', 'LOC_PROJECT_SHOW_SUPERIORITY_SAM_SHORT_NAME', 'LOC_PROJECT_SHOW_SUPERIORITY_SAM_DESCRIPTION', 200, 'NO_PROGRESSION_MODEL', 'DISTRICT_GOVERNMENT', 1),
('PROJECT_EXERT_INFLUENCE_SAM', 'LOC_PROJECT_EXERT_INFLUENCE_SAM_NAME', 'LOC_PROJECT_EXERT_INFLUENCE_SAM_SHORT_NAME', 'LOC_PROJECT_EXERT_INFLUENCE_SAM_DESCRIPTION', 200, 'NO_PROGRESSION_MODEL', 'DISTRICT_GOVERNMENT', 1);

INSERT INTO Project_ResourceCosts (ProjectType, ResourceType, StartProductionCost) VALUES
('PROJECT_SHOW_SUPERIORITY_SAM', 'RESOURCE_VICTORY_POINTS_SAM', 350),
('PROJECT_EXERT_INFLUENCE_SAM', 'RESOURCE_VICTORY_POINTS_SAM', 350);

-- Capture zone victory

INSERT INTO Types (Type, Kind) VALUES
('VICTORY_CAPTURE_SAM', 'KIND_VICTORY');

INSERT INTO Requirements (RequirementId, RequirementType, Likeliness, Impact, Reverse, Persistent, ProgressWeight, Triggered) VALUES
('REQUIRES_HAS_SHOWN_SUPERIORITY_SAM', 'REQUIREMENT_PLAYER_HAS_COMPLETED_PROJECT', 0, 0, 0, 0, 1, 0),
('REQUIRES_HAS_EXERTED_INFLUENCE_SAM', 'REQUIREMENT_PLAYER_HAS_COMPLETED_PROJECT', 0, 0, 0, 0, 1, 0);

INSERT INTO RequirementArguments (RequirementId, Name, Value) VALUES
('REQUIRES_HAS_SHOWN_SUPERIORITY_SAM', 'MinimumCompletions', 1),
('REQUIRES_HAS_SHOWN_SUPERIORITY_SAM', 'ProjectType', 'PROJECT_SHOW_SUPERIORITY_SAM'),
('REQUIRES_HAS_EXERTED_INFLUENCE_SAM', 'MinimumCompletions', 1),
('REQUIRES_HAS_EXERTED_INFLUENCE_SAM', 'ProjectType', 'PROJECT_EXERT_INFLUENCE_SAM');

INSERT INTO RequirementSets (RequirementSetId, RequirementSetType) VALUES
('REQUIREMENTS_CAPTURE_VICTORY_SAM', 'REQUIREMENTSET_TEST_ALL'),
('REQUIREMENTS_SHOW_SUPERIORITY_SAM', 'REQUIREMENTSET_TEST_ALL');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId) VALUES
('REQUIREMENTS_CAPTURE_VICTORY_SAM', 'REQUIRES_HAS_SHOWN_SUPERIORITY_SAM'),
('REQUIREMENTS_CAPTURE_VICTORY_SAM', 'REQUIRES_HAS_EXERTED_INFLUENCE_SAM'),
('REQUIREMENTS_SHOW_SUPERIORITY_SAM', 'REQUIRES_HAS_SHOWN_SUPERIORITY_SAM');

INSERT INTO RequirementStrings (RequirementId, Context, Text) VALUES
('REQUIRES_HAS_SHOWN_SUPERIORITY_SAM', 'VictoryProgress', 'LOC_VICTORY_CAPTURE_SHOWN_SUPERIORITY_SAM_REQUIREMENT'),
('REQUIRES_HAS_EXERTED_INFLUENCE_SAM', 'VictoryProgress', 'LOC_VICTORY_CAPTURE_EXERTED_INFLUENCE_SAM_REQUIREMENT');

-- Modifiers for projects

INSERT INTO Modifiers (ModifierId, ModifierType, RunOnce, NewOnly, Permanent, Repeatable, OwnerRequirementSetId) VALUES
('SHOW_SUPERIORITY_STRENGTH_INCREASE_SAM', 'MODIFIER_UNIT_ADJUST_COMBAT_STRENGTH', 0, 0, 0, 0, 'REQUIREMENTS_SHOW_SUPERIORITY_SAM'),
('EXERT_INFLUENCE_FAVOR_INCREASE_SAM', 'MODIFIER_PLAYER_ADJUST_EXTRA_FAVOR_PER_TURN', 0, 0, 0, 0, NULL);

INSERT INTO ModifierArguments (ModifierId, Name, Type, Value) VALUES
('SHOW_SUPERIORITY_STRENGTH_INCREASE_SAM', 'Amount', 'ARGTYPE_IDENTITY', 5),
('EXERT_INFLUENCE_FAVOR_INCREASE_SAM', 'Amount', 'ARGTYPE_IDENTITY', 5);

INSERT INTO ProjectCompletionModifiers (ProjectType, ModifierId) VALUES
('PROJECT_EXERT_INFLUENCE_SAM', 'EXERT_INFLUENCE_FAVOR_INCREASE_SAM');

-- More stuff for Show Superiority combat bonus

INSERT INTO ModifierStrings (ModifierId, Context, Text) VALUES
('SHOW_SUPERIORITY_STRENGTH_INCREASE_SAM', 'Preview', 'LOC_SHOW_SUPERIORITY_STRENGTH_INCREASE_SAM_DESCRIPTION');

INSERT INTO Types (Type, Kind) VALUES
('ABILITY_SHOW_SUPERIORITY', 'KIND_ABILITY');

INSERT INTO TypeTags (Type, Tag) VALUES
('ABILITY_SHOW_SUPERIORITY', 'CLASS_RECON'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_MELEE'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_RANGED'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_SIEGE'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_HEAVY_CAVALRY'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_LIGHT_CAVALRY'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_RANGED_CAVALRY'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_ANTI_CAVALRY'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_HEAVY_CHARIOT'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_LIGHT_CHARIOT'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_NAVAL_MELEE'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_NAVAL_RANGED'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_NAVAL_RAIDER'),
('ABILITY_SHOW_SUPERIORITY', 'CLASS_AIRCRAFT');

INSERT INTO UnitAbilities (UnitAbilityType, Name, Description, Inactive, ShowFloatTextWhenEarned, Permanent) VALUES
('ABILITY_SHOW_SUPERIORITY', 'LOC_ABILITY_SHOW_SUPERIORITY_NAME', 'LOC_ABILITY_SHOW_SUPERIORITY_DESCRIPTION', 0, 0, 1);

INSERT INTO UnitAbilityModifiers (UnitAbilityType, ModifierId) VALUES
('ABILITY_SHOW_SUPERIORITY', 'SHOW_SUPERIORITY_STRENGTH_INCREASE_SAM');

-- using diplomatic icon as placeholder
INSERT INTO Victories (VictoryType, Name, Blurb, RequirementSetId, Description, Icon) VALUES
('VICTORY_CAPTURE_SAM', 'LOC_VICTORY_CAPTURE_SAM_NAME', 'LOC_VICTORY_CAPTURE_SAM_TEXT', 'REQUIREMENTS_CAPTURE_VICTORY_SAM', 'LOC_VICTORY_CAPTURE_SAM_DESCRIPTION', 'ICON_VICTORY_SCORE');